<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <div class="logo-container">
        <i class="fas fa-cubes logo-icon"></i>
        <h1>LogiStock Solutions</h1>
      </div>
      <p class="subtitle">{{ isRegistering ? 'Crear Nueva Cuenta' : 'Sistema de Gesti칩n Log칤stica' }}</p>
    </div>

    <!-- Formulario de Login -->
    <form class="login-form" (ngSubmit)="onSubmit()" *ngIf="!isRegistering">
      <div class="form-group">
        <label for="username">
          <i class="fas fa-user input-icon"></i>
          Usuario
        </label>
        <input
          type="text"
          id="username"
          name="username"
          [(ngModel)]="username"
          placeholder="Ingrese su usuario"
          required
          [disabled]="loading"
          autocomplete="username"
        />
      </div>

      <div class="form-group">
        <label for="password">
          <i class="fas fa-lock input-icon"></i>
          Contrase침a
        </label>
        <div class="password-input-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            [(ngModel)]="password"
            placeholder="Ingrese su contrase침a"
            required
            [disabled]="loading"
            autocomplete="current-password"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="showPassword ? 'Ocultar contrase침a' : 'Mostrar contrase침a'"
          >
            <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </button>
        </div>
      </div>

      <div class="error-message" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>

      <button type="submit" class="login-button" [disabled]="loading">
        <span *ngIf="!loading">Iniciar Sesi칩n</span>
        <span *ngIf="loading" class="loading-spinner">
          <i class="fas fa-spinner fa-spin"></i>
          Iniciando...
        </span>
      </button>

      <div class="text-center mt-3">
        <a href="javascript:void(0)" (click)="toggleRegister()" class="text-decoration-none">쯅o tienes cuenta? Reg칤strate</a>
      </div>
    </form>

    <!-- Formulario de Registro -->
    <form class="login-form" (ngSubmit)="onRegister()" *ngIf="isRegistering">
      <div class="form-group">
        <label for="regUsername">
            <i class="fas fa-user input-icon"></i> Usuario
        </label>
        <input type="text" id="regUsername" name="regUsername" [(ngModel)]="regUsername" required [disabled]="loading" />
      </div>

      <div class="form-group">
        <label for="regEmail">
            <i class="fas fa-envelope input-icon"></i> Email
        </label>
        <input type="email" id="regEmail" name="regEmail" [(ngModel)]="regEmail" required [disabled]="loading" />
      </div>

      <div class="form-group">
        <label for="regPassword">
            <i class="fas fa-lock input-icon"></i> Contrase침a
        </label>
        <input type="password" id="regPassword" name="regPassword" [(ngModel)]="regPassword" required [disabled]="loading" />
      </div>

      <div class="form-group">
        <label for="regConfirmPassword">
            <i class="fas fa-lock input-icon"></i> Confirmar Contrase침a
        </label>
        <input type="password" id="regConfirmPassword" name="regConfirmPassword" [(ngModel)]="regConfirmPassword" required [disabled]="loading" />
      </div>

      <div class="error-message" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>

      <button type="submit" class="login-button" [disabled]="loading">
        <span *ngIf="!loading">Registrarse</span>
        <span *ngIf="loading" class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            Registrando...
        </span>
      </button>

      <div class="text-center mt-3">
        <a href="javascript:void(0)" (click)="toggleRegister()" class="text-decoration-none">쯏a tienes cuenta? Inicia Sesi칩n</a>
      </div>
    </form>

    <div class="login-footer" *ngIf="!isRegistering">
      <div class="demo-credentials">
        <p class="demo-title">游댐 Credenciales de demostraci칩n:</p>
        <div class="credential-box">
          <strong>Admin:</strong> usuario: <code>admin</code> / contrase침a: <code>admin123</code>
        </div>
        <div class="credential-box">
          <strong>Usuario:</strong> usuario: <code>usuario</code> / contrase침a: <code>user123</code>
        </div>
      </div>
    </div>
  </div>

  <div class="background-animation">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>
</div>